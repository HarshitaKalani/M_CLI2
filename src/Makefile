#@(#) Makefile started by makeout(1) 2020-01-14 01:11:41
# generated by:   ...
NULL=
#$(NULL)
PROGFILES = \
 ../demos/demo1/demo1.f90 \
 ../demos/demo2/demo2.f90 \
 ../demos/demo3/demo3.f90 \
 ../demos/demo4/demo4.f90 \
 ../demos/demo5/demo5.f90 \
 ../demos/demo6/demo6.f90 \
 ../demos/demo7/demo7.f90 \
 ../demos/demo8/demo8.f90 \
 ../demos/demo9/demo9.f90 \
 ../demos/demo10/demo10.f90 \
 ../test/main.f90 \
$(NULL)
PROG = ${PROGFILES:.f90=}
SRCS =  M_CLI2.f90 
OBJS =  M_CLI2.o 
# platform-specific values you will probably change
LIBS := 
FC := gfortran
#FFLAGS := -g -O -Wall -Wextra
F90 := gfortran
#F90FLAGS := -g -O -Wall -Wextra
LDFLAGS := 
all: $(PROG) 
	@echo "That's All Folks! Enter \"make help\" for more options"
$(PROG): $(OBJS)
	-$(F90) $(LDFLAGS) $@.f90 -o $@ $(OBJS) $(LIBS)
clean:
	rm -f $(PROG) $(CPROG) $(OBJS) *.mod
.SUFFIXES: $(SUFFIXES) .f90 .F90 
.f90.o:
	$(F90) $(F90FLAGS) -c $<
.F90.o:
	$(F90) $(F90FLAGS) -c $<
.PHONY: help
help:
	: all     '-- build M_CLI2 module'
	: run     '-- run manpage demo programs'
	: man     '-- show all manpages as text'
	: ship    '-- rebuild archive files of manpages'
	: clean   '-- clean directory of object files and executables'
	: doxygen '-- run doxygen(1) if you have it'
	: help    '-- display this text'

.PHONY: run
run: $(PROG)
	# run everything
	echo $? |xargs -n 1|xargs -iXX time XX

.PHONY: doxygen
doxygen: 
	doxygen dox.in

.PHONY: man
man:
	@mandb ../man 1>&2
	: INDEX OF MANPAGES TOPICS
	@env MANPATH=../man MANWIDTH=256 man -k .|col -b
	: MANPAGES
	@env MANPATH=../man MANWIDTH=80  man --regex '.*'|col -b
	: SPELLING
	@env MANPATH=../man MANWIDTH=80  man --regex '.*'|col -b|spell|xargs -n 5|column -t

.PHONY: ship
ship:
	: make easily distributed archive files of manpages
	mkdir -p ../docs
	cd ../man/man3;\
	   gzip *.3m_cli2;\
	   zip -r ../../docs/manpages.zip *gz;\
	   tar cvfz ../../docs/manpages.tgz *gz;\
	   gunzip *.3m_cli2.gz
